<%- include('../partials/html-head') %>
<%- include('../partials/nav') %>

<main>
  <h1><%= title %></h1>
  <form action="/recipes/<%= recipe._id %>?_method=PUT" method="POST">
    <label>Recipe Name:
      <input type="text" name="name" autocomplete="off" value="<%= recipe.name %>">
    </label><br>
    <label>Image URL:
      <input type="url" pattern="https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)(.jpg|.png|.gif|.jpeg)"  name="imageUrl" autocomplete="off" value="<%= recipe.imageUrl %>">
    </label><br>

    <label>Edit Description:
      <textarea name="description" autocomplete="off"><%= recipe.description %></textarea>
    </label><br>

    <label>Previous Ingredients:</label>
    <ul>
      <% recipe.ingredients.forEach(ingredient => { %>
        <li><%= ingredient %></li>
      <% }) %>
    </ul>
    <label>New Ingredients:
      <textarea name="ingredients" autocomplete="off"></textarea>
    </label><br>
    
    <label>Previous Steps:</label>
    <ul>
      <% recipe.instructions.forEach(instruction => { %>
        <li><%= instruction %></li>
      <% }) %>
    </ul>
    <label>New Steps:
      <textarea name="instructions" autocomplete="off" placeholder="<%= recipe.instructions %>"></textarea>
    </label><br>

    <button type="submit">Submit Edit</button>
  </form>
</main>

<%- include('../partials/footer') %>
